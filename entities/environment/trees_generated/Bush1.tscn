[gd_scene load_steps=7 format=4 uid="uid://do64x0a2lddsc"]

[ext_resource type="Script" uid="uid://bqm5baonyye2y" path="res://common/utils/tree_generator.gd" id="1_0i4co"]
[ext_resource type="QuadMesh" uid="uid://dmhox60kobeu2" path="res://assets/models/environment/LeafBasePlane.tres" id="2_cgj45"]
[ext_resource type="Material" uid="uid://br1nrjywyx4pb" path="res://assets/materials/Trees/TreeShader.tres" id="3_4hg3t"]

[sub_resource type="ArrayMesh" id="ArrayMesh_0i4co"]
resource_name = "Trees_Bush1"
_surfaces = [{
"aabb": AABB(-0.60072154, -0.026910394, -0.5904377, 1.1582508, 0.9845499, 1.1075358),
"attribute_data": PackedByteArray("AAAA/wEzyjxY16g9AAAA//8yyjxw16g9AAAA//8yyjxw16g9AAAA/wEzyjxw16g9AAAA/wAzyjxo16g9AAAA//4yyjxo16g9AAAA/wIzyjxg16g9AAAA//8yyjxw16g9AAAA/wIzyjxo16g9AAAA/wEzyjxY16g9AAAA/wAzyjxg16g9AAAA/wEzyjxg16g9AAAA/wAzyjxY16g9AAAA/wEzyjxw16g9AAAA//4yyjxw16g9AAAA/wMzyjxA16g9AAAA//8yyjxo16g9AAAA//8yyjxg16g9AAAA/wEzyjxg16g9AAAA//8yyjxg16g9AAAA/wAzyjxw16g9AAAA//8yyjxg16g9AAAA/wIzyjxo16g9AAAA/wEzyjxY16g9AAAA/wIzyjxg16g9AAAA//4yyjxo16g9AAAA/wEzyjxg16g9AAAA/wAzyjxg16g9AAAA//wyyjyA16g9AAAA//8yyjxo16g9AAAA/wAzyjxw16g9AAAA/wMzyjxA16g9AAAA/wEzyjxY16g9AAAA//4yyjxw16g9AAAA//4yyjxw16g9AAAA//4yyjxo16g9AAAA/wEzyjxI16g9AAAA/wIzyjxQ16g9AAAA//4yyjxo16g9AAAA/wAzyjxQ16g9AAAA//8yyjxw16g9AAAA//8yyjxw16g9AAAA/wEzyjxY16g9AAAA/wAzyjxo16g9AAAA/wIzyjxg16g9AAAA//4yyjx416g9AAAA/wAzyjxo16g9AAAA/wAzyjxo16g9AAAA/wAzyjxg16g9AAAA//4yyjxg16g9AAAA/wMzyjxg16g9AAAA/wQzyjxQ16g9AAAA/wIzyjxQ16g9AAAA/wMzyjxA16g9AAAA/wIzyjxQ16g9AAAA//4yyjxo16g9AAAA/wAzyjxg16g9AAAA//8yyjxw16g9AAAA/wAzyjxo16g9AAAA//8yyjxw16g9AAAA//4yyjxo16g9AAAA/wAzyjxo16g9AAAA/wEzyjxI16g9AAAA/wIzyjxo16g9AAAA/wIzyjxg16g9AAAA/wAzyjxQ16g9AAAA/wAzyjxY16g9AAAA//8yyjxg16g9AAAA//8yyjxw16g9AAAA/wEzyjxY16g9AAAA//8yyjxw16g9AAAA/wIzyjxg16g9AAAA//8yyjxw16g9AAAA/wAzyjxw16g9AAAA/wAzyjxw16g9AAAA/wMzyjxY16g9AAAA//8yyjxw16g9AAAA/wAzyjxg16g9AAAA//8yyjxo16g9AAAA/wAzyjxg16g9AAAA//4yyjx416g9AAAA//8yyjx416g9AAAA/wIzyjxo16g9AAAA/wMzyjxY16g9AAAA/wAzyjxg16g9AAAA/wMzyjxg16g9AAAA/wQzyjxQ16g9AAAA/wAzyjxo16g9AAAA/wIzyjxY16g9AAAA/wIzyjxo16g9AAAA/wAzyjxY16g9AAAA/wIzyjxg16g9AAAA//8yyjxw16g9AAAA/wIzyjxo16g9AAAA/wIzyjxY16g9AAAA//8yyjx416g9AAAA/wAzyjxo16g9AAAA//4yyjx416g9AAAA/wAzyjxg16g9AAAA/wMzyjxA16g9AAAA/wIzyjxQ16g9AAAA//4yyjx416g9AAAA//4yyjxg16g9"),
"format": 34359742495,
"index_count": 252,
"index_data": PackedByteArray("IwAkAAcAIwAlACQAJAAIACYAJAAnAAgAJQAnACQAJQAoACcAKQAoACUAKQAKACgACgAqACgACgALACoAKwAFACwALQArACwALgArAC0ALgACACsALwAwAC4ALwAuADEADAAwAC8ADAANADAADgAMAC8ADgAvADIAMgAvADEAMgAxADMAMwAxADQAMwA0ADUAAAA2ADcAAAABADYAAwAAADcAAwA3ADgAOAA3ADkAOAA5ADoAOwA8AD0AOwA+ADwAGQA/AEAAQQBCABYAQQBDAEIARABDAEEARABFAEMAQwBGAEIAQgBGAEcARgBIAEcAQwBJAEYASQBIAEYASQARAEgACQBJABUACQBKAEkAFAARAEkAGgAUABcAGgAbABQAGwASABQAFAASABEAGwAcABIAEQAQAEsAEQBLAEwAEgBNAE4AEgBOABMAHABPABIAHAAeAE8AHgBQAE8AHgAgAFAATwBQAFEATwBRAB0AHQBRAFIAHQBSAFMAIABUAFAAIAAhAFQAIQBVAFQAIQAiAFUAVABVAFYAVABWAFcAVwBWAB8AVwAfAFgAWQBaAFsAXABLAAYASwBdAAYAXQBeAAYAXgAPAAYAXwBeAF0AXwBgAF4AYQBgAF8AYQBiAGAAYwBkABgAZABlABgAZgBlAGQAZgAEAGUA"),
"lods": [0.47633424, PackedByteArray("AAABAAIAAwAAAAIAAwACAAQABAACAAUABAAFAAYABwAIAAUABwAJAAgAAQAJAAcAAQAKAAkACgALAAkADAANAAQADgAMAAQADgAEAA8AEAAPAAYAEQAQAAYAEgAQABMAFAASABEACQAUABUAFAARABUAFQARABYAFwAVABYAFgARABgAGQAWABgAGgAUABcAGgAbABQAGwASABQAGwAcABIAHAAdABIAHAAeAB0AHgAfAB0AHwAEABgAHgAgAB8AIAAhAB8AIQAiAB8A")],
"material": ExtResource("3_4hg3t"),
"name": "Crown",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 103,
"vertex_data": PackedByteArray("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")
}]
blend_shape_mode = 0

[sub_resource type="MultiMesh" id="MultiMesh_cgj45"]
transform_format = 1
instance_count = 50
mesh = ExtResource("2_cgj45")
buffer = PackedFloat32Array(-0.54154974, 0.90867746, 0.8132994, 0.3345061, 1.0435861, 0.8057269, -0.20532656, 0.66449463, -0.6309348, 0.55275345, -1.0376954, 0.15618975, 0.7381092, -0.40101102, -0.13954669, -0.34298384, -0.24593669, -0.1756489, -0.7960847, 0.5287276, 0.34611875, 0.7303602, -0.2680748, 0.39404342, 1.0688852, -0.7263354, -0.31103152, -0.32510495, 0.73250157, 0.71475846, 0.84816355, 0.61320966, -0.29621845, -0.8534498, 0.97503716, -0.36146802, -0.22204298, -0.53961146, 0.9807468, -0.2932312, 1.0970728, 0.093776144, 0.29997545, 0.48396897, -0.22243237, 1.001186, 0.500498, 0.42717937, -0.40073872, 0.5748046, 0.9788723, 0.2989973, 1.135131, 0.19532754, 0.35001075, 0.38445634, 0.008296113, 1.0395335, -0.607029, 0.3901029, 0.8054161, 0.9445647, 0.038243353, 0.37814754, -0.7310974, 0.65422624, -0.76147544, 0.68574035, -0.59930086, 0.47132334, 0.9803331, 0.033317924, 1.1500121, -0.08044693, 0.10335008, 0.15917912, -0.13083032, -0.6635784, 0.9392701, 0.035390846, -0.0060309577, -0.9449197, -0.66840976, -0.40823492, 0.44154826, 0.81795025, -0.9365663, 0.20793836, 1.2253777, -0.117339596, 0.47523114, 0.5014151, 0.21130161, -1.0287626, -0.79885095, -0.5415102, -1.1275373, 0.71868366, -0.3909633, 0.32846227, -0.2298368, -0.91714895, -1.0230895, 0.20349485, -0.78519666, -0.7635645, 0.8608918, -0.41569644, 0.8709499, 0.93569493, -0.37432477, 0.3503447, -1.006352, 0.7810521, -0.3891158, 0.59269977, -0.053849123, 0.5372434, 1.2176485, 0.22342893, -0.12969992, -1.134473, 0.31585035, -0.5713119, -0.26129532, -0.28211552, -1.1206015, 0.51444316, 1.1482661, -0.19233914, -0.21932389, -0.06546504, 0.7129606, -0.2477186, -0.57192916, -0.30848867, 0.31829146, 0.89182997, 0.010502057, 0.8350078, 0.53587127, -0.20013809, 0.75469667, -0.035143316, 0.18740648, 0.08784195, -1.1554343, -0.0022082645, 0.93935525, 0.6738175, 0.20358641, 0.55569005, 0.6784956, -0.95714134, 0.03728236, -0.5420863, 0.9911496, 0.587644, 0.34944615, 0.15679738, 0.041005354, 0.5632224, -1.0634447, 0.7566164, -0.68246377, 0.8872827, 0.4436084, 0.24419406, 0.80429953, -0.4679566, 0.30034393, -0.18043795, -0.29431492, 0.08982947, 0.92811483, 0.2796917, -0.47177175, -0.8538355, -0.06696355, -0.54937357, 0.7238403, 0.30416542, -0.33971345, 0.28591704, 0.45595282, -0.49032053, 0.532503, -0.0004951488, -0.0053764456, -0.6316137, -0.5769765, -0.28296593, -0.46670336, -0.48034707, 0.8162313, -0.22359328, 0.5183521, 0.63201326, 0.6683183, 0.7301116, -0.79264, 0.6961357, -0.043542758, 0.2917747, -0.92463344, -0.7499652, 0.026072916, -0.38985246, -0.6637947, 0.79810774, -0.5835026, 0.6727166, 0.35000625, -0.46760103, -1.0377474, -0.2168289, -0.38048247, -0.90539414, -0.08444896, -0.52031916, -0.3452242, 0.05913589, 0.9213905, 0.47171772, -0.84124345, 0.3852291, -0.3399194, 0.18315592, 0.12281102, -0.4499221, 0.9933999, -0.10179698, -0.26130918, 0.95841587, 0.46638232, 0.85535705, -1.0587685, -0.28873, 0.00012330164, -0.2417888, -0.60615706, -0.9836091, -0.6968753, -0.3955687, -0.17090389, -0.70201737, 1.1395227, 0.051949084, -1.1932786, 0.60019433, 0.19079117, 0.13608333, 0.5838723, -0.8063014, 0.60837066, -0.49735463, 1.0002584, 0.55925333, -0.2187752, 0.5581377, -0.14042802, 0.63107634, 0.9711675, 0.20015407, -0.36408514, -0.9356397, 0.27379522, -0.46231636, 0.94798434, -0.40796617, -0.13353899, 0.22278942, 0.2274007, 0.20269533, 0.9950612, 0.23873311, -0.23781675, 0.7700066, -0.017554412, 0.5100502, 0.20513986, 0.045616064, -0.77821076, 0.4476871, -0.7423853, -0.23406012, -0.20941594, -0.18407328, -0.2654992, -0.80680233, 0.62543195, -0.37705374, -1.0206772, 0.2210071, -0.14818545, 0.34756318, -0.017698832, -0.64250356, -0.8363377, -0.4379461, -0.40230888, 1.1148267, -0.0037044294, 0.4945329, -1.1048396, -0.3981743, 0.15966073, 0.16823128, 0.14893575, 0.057649016, 1.1743932, -0.04568231, 0.18149434, 1.1173759, -0.51940197, 0.5249017, -0.49949443, -0.4132193, -1.063486, 0.23576939, -1.1264157, 0.3632745, 0.38790017, 0.0068041235, -0.62009954, 0.6585064, 0.9096874, 0.16020136, 1.0356416, 0.737181, 0.17232566, 0.538293, -0.43429086, 0.8176912, -0.88795155, 0.45390567, 1.0171174, -0.09835371, 0.03376891, -0.020589804, -0.023180434, -0.5381004, -0.8690525, 0.0013552494, 0.10137287, 0.8637801, -0.53753984, 0.3695966, -0.66854805, 1.1304084, 0.3739083, 0.4367985, 1.1736555, 0.6978487, -0.011256397, 0.6043266, -0.20040718, 0.31586564, -1.3132604, 0.055927437, -0.8740872, 0.26043406, -1.0581149, 0.19130571, 1.0896796, 0.20191894, -0.85046375, 0.27708426, -0.0056096152, -1.3575213, -0.3294931, -0.5558889, 1.0028849, -0.47801906, 0.6193071, -0.23713554, -0.18809713, 0.8300182, 0.9452569, 0.6970703, -0.75938326, -0.83689237, 0.5837547, -0.36967766, -0.8548995, -0.53817815, 0.07610584, -0.17088443, -0.071900606, -0.028626852, -1.010095, 0.35611147, 0.5387561, -0.857803, -0.014038964, -0.5488074, 0.55154496, 0.026579933, -0.6086846, 0.15188476, -0.18157624, 0.79090893, -0.12999368, 0.8181041, 0.5815785, 0.2217246, 0.5366656, 0.17214063, -0.50829816, 0.67192507, -0.18568377, 0.3830221, -0.5512018, -0.5280769, -0.40204516, 0.082437776, -0.4267768, -0.11823843, 0.7404121, -0.23906465, 0.110171534, 0.9522466, -0.23259339, 0.49857256, 0.92627263, -0.024541013, 0.33827177, 0.3533477, 0.32076827, -0.25619367, -0.89693004, -0.23275942, 0.65260106, -0.8793019, 0.6163104, -0.39209127, -0.14094582, 0.6448208, 1.0692235, 0.59420246, -1.0644926, -0.62444615, 0.23626496, -0.2956151, -1.240319, 0.1069289, 0.04922656, -0.037156988, 0.11370711, 0.9534819, 0.79384595, 0.721298, 0.030458843, 0.79478747, -0.9589753, 0.35290188, 0.1358227, -0.97295684, -0.75034237, -0.41110826, 0.73626554, -0.53991485, 0.83337355, 0.08300048, -0.98365223, -0.53847325, 0.52017444, -0.23721668, -0.63689095, 0.005626491, -0.59045404, 0.12716433, 0.5903537, 0.024085993, -0.6365533, 0.5194279, 0.012251079, -0.86815083, -0.021487288, -0.55599564, 0.63491905, -0.7678706, 0.3221198, -0.42260122, -0.8063995, -0.6679968, -0.0029075753, 0.052784465, 0.20761979, -0.24629985, -0.9963626, -0.14882424, 0.8571987, -0.043611564, -0.705752, 0.053177245, 0.7042709, -0.046423476, 0.8582685, 0.33077732, -0.063169144, -1.1093785, -0.008171121, -0.5715661, -1.28773, -0.32351542, -0.02510387, -0.3311592, -0.10959622, 0.53033024, -1.2125509, 0.51584, 0.30541953, -1.1737243, -0.5409541, -0.45007896, 0.8603844, 0.21360642, -0.5350242, 0.13889088, -0.09867817, 1.002066, 0.24138446, 0.8869026, 0.56757486, -0.14958657, 0.853008, -0.12738559, -0.9115667, -0.34940425, -0.16081157, -0.24095649, 0.0462118, -0.5101466, 0.84647053, 0.2058489, -0.38184825, 0.7723759, 0.48633814, 0.4272418, -0.6426981, 0.33531606, 0.59074026, 0.35588333, -0.2708623, 0.61929077, -0.64620763, 0.63197595, -0.62293226, -0.61523473, -0.32850185, -0.36439556, -0.532856, -0.9396748, -0.030292189, -0.39814755, 0.9213135, -0.528839, 0.19837467, -0.014668682, -0.187317, 0.07198931, 1.0618716, 0.025343897, 0.2294957, -1.0616028, 0.53246117, -0.45994478, -0.9086976, 0.19223036, 0.77491933, 0.4782846, -0.7647118, -0.54701984, -0.7610314, -0.3178419, -0.8424587, -0.450512, 0.5612799, -0.29859403, 0.7183364, -0.47278005, 0.6987167, 0.14105101, -0.044600073, 0.8951262, 0.6515311, 0.33967003, -0.14980978, 0.9118388, 0.20458987, 0.48289692, 0.8314598, 0.22464211, -0.39237806, 0.5051538, -0.42659307, 0.11762617, -0.8366197, 0.12238162)

[sub_resource type="SphereShape3D" id="SphereShape3D_cgj45"]
radius = 1.1908398

[node name="Bush1" type="StaticBody3D"]
collision_layer = 8
collision_mask = 63
script = ExtResource("1_0i4co")
leaf_mesh = ExtResource("2_cgj45")
leaf_count = 50
random_tilt = 0.2

[node name="Crown" type="MeshInstance3D" parent="."]
cast_shadow = 3
mesh = SubResource("ArrayMesh_0i4co")

[node name="LeavesMultiMesh" type="MultiMeshInstance3D" parent="Crown"]
multimesh = SubResource("MultiMesh_cgj45")

[node name="OcclusionVolume" type="Area3D" parent="."]
collision_layer = 2147483648
collision_mask = 0

[node name="@CollisionShape3D@52764" type="CollisionShape3D" parent="OcclusionVolume"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.46536455, 0)
shape = SubResource("SphereShape3D_cgj45")
