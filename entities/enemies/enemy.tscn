[gd_scene load_steps=6 format=3 uid="uid://d8g64g8viihh"]

[ext_resource type="Script" uid="uid://b01pe5336p70y" path="res://entities/enemies/enemy.gd" id="1_ksmh7"]
[ext_resource type="PackedScene" uid="uid://jwhg4beayert" path="res://entities/health_component/HealthComponent.tscn" id="2_wqcwe"]
[ext_resource type="PackedScene" uid="uid://duk5b06ohkpsc" path="res://entities/enemies/monstr.tscn" id="3_5lf1o"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lw7nh"]

[sub_resource type="SphereShape3D" id="SphereShape3D_owq46"]

[node name="Enemy" type="CharacterBody3D" groups=["enemies"]]
collision_layer = 4
collision_mask = 15
script = ExtResource("1_ksmh7")
attack_range = 1.2
tactical_retreat_distance = 6.0
knockback_duration = 0.1

[node name="HealthComponent" parent="." instance=ExtResource("2_wqcwe")]

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
avoidance_enabled = true
radius = 0.6
max_speed = 20.0

[node name="Monstr" parent="." instance=ExtResource("3_5lf1o")]

[node name="Skeleton3D" parent="Monstr/root" index="0"]
bones/1/position = Vector3(-1.6116648e-10, 0.4740881, 0.00042610895)
bones/1/rotation = Quaternion(0.040794097, 0.19479245, -0.008140214, 0.979962)
bones/2/position = Vector3(-0.08353801, 0.2750062, 0.12117061)
bones/2/rotation = Quaternion(0.10751911, -0.08104216, 0.06283698, 0.98890007)
bones/3/rotation = Quaternion(0.23842315, 3.1305094e-06, 4.6796426e-06, 0.9711614)
bones/4/position = Vector3(-0.013502162, 0.08741275, 0.10489616)
bones/4/rotation = Quaternion(-0.267517, -0.036496114, 0.048189636, 0.9616551)
bones/5/position = Vector3(-0.12701668, 0.47739196, -0.018639954)
bones/5/rotation = Quaternion(-0.50328225, 0.47770002, 0.5925264, 0.40917268)
bones/6/rotation = Quaternion(0.1662212, 0.0912143, 0.59981394, 0.7773505)
bones/6/scale = Vector3(1, 1.9401156, 0.99999976)
bones/7/rotation = Quaternion(1.6316405e-07, 0.570317, 1.09188896e-07, 0.8214247)
bones/8/rotation = Quaternion(-0.008873224, -0.00016962248, 0.043842953, 0.998999)
bones/8/scale = Vector3(0.9931826, 1.1034275, 0.99969524)
bones/9/rotation = Quaternion(-4.913541e-08, 0.023875985, 1.0140703e-08, 0.99971503)
bones/10/rotation = Quaternion(-0.036715835, 0.031183828, 0.1633932, 0.98538435)
bones/10/scale = Vector3(1.2327545, 0.5763499, 1.2885311)
bones/11/position = Vector3(0.13084687, 0.4734017, -0.047634102)
bones/11/rotation = Quaternion(0.5738763, 0.3806284, 0.5379449, -0.48621318)
bones/12/rotation = Quaternion(-0.37711135, -0.330374, 0.07714804, 0.86179364)
bones/12/scale = Vector3(0.9999999, 1.0347068, 1)
bones/13/rotation = Quaternion(2.066952e-07, 0.29256886, -5.9216593e-08, 0.9562445)
bones/14/rotation = Quaternion(1.772362e-07, -2.9055448e-08, -0.04519582, 0.99897814)
bones/14/scale = Vector3(1.0000044, 0.99999595, 1)
bones/15/rotation = Quaternion(-6.601292e-08, 0.30294535, 4.727344e-09, 0.953008)
bones/16/rotation = Quaternion(0.06845988, 0.22625968, -0.27034187, 0.9332926)
bones/16/scale = Vector3(0.99622005, 0.97388166, 0.9988093)
bones/17/rotation = Quaternion(0.5563918, 0.14563565, 0.805879, 0.14063267)
bones/18/rotation = Quaternion(7.06378e-08, -0.17880888, 3.21079e-07, 0.9838838)
bones/19/rotation = Quaternion(-7.4145556e-10, -5.164831e-08, 0.09072353, 0.99587613)
bones/20/rotation = Quaternion(0.16051555, 0.6892472, -0.20407689, 0.67640644)
bones/21/rotation = Quaternion(-3.4294163e-07, 0.9152513, 0.40288338, -2.98566e-07)
bones/22/rotation = Quaternion(-3.842343e-08, 0.018549468, 5.62273e-08, 0.999828)
bones/23/rotation = Quaternion(0.84194744, 0.019609176, -0.538913, -0.017686948)
bones/24/rotation = Quaternion(-1.5171688e-08, -0.21295097, 8.419649e-08, 0.97706294)
bones/25/rotation = Quaternion(-1.208557e-08, -4.1706993e-08, -0.11530151, 0.9933306)
bones/26/rotation = Quaternion(0.32776722, -0.6273633, 0.3627567, 0.6061283)
bones/27/rotation = Quaternion(4.3082656e-07, 0.91525143, 0.40288314, 2.0303418e-07)
bones/28/rotation = Quaternion(-8.448836e-08, -0.021632101, 2.8053162e-07, 0.999766)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_lw7nh")

[node name="LineOfSightCast" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.4024, 0.716951)
shape = SubResource("SphereShape3D_owq46")
target_position = Vector3(0, 0, 0)
collision_mask = 9
debug_shape_custom_color = Color(0.996577, 0, 1, 1)

[node name="AttackTimer" type="Timer" parent="."]

[editable path="Monstr"]
