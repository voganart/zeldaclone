[gd_scene load_steps=9 format=3 uid="uid://d8g64g8viihh"]

[ext_resource type="Script" uid="uid://ba6qmt80akqib" path="res://entities/enemies/enemy.gd" id="1_ksmh7"]
[ext_resource type="PackedScene" uid="uid://b72gnkqh5atrs" path="res://UI/HealthBar3D/health_bar_3d.tscn" id="2_twyc1"]
[ext_resource type="PackedScene" uid="uid://jwhg4beayert" path="res://entities/health_component/HealthComponent.tscn" id="2_wqcwe"]
[ext_resource type="PackedScene" uid="uid://duk5b06ohkpsc" path="res://entities/enemies/monstr.tscn" id="3_5lf1o"]
[ext_resource type="PackedScene" uid="uid://bh7ppnkyaubf7" path="res://vfx/hit_flash/HitFlash.tscn" id="4_msovg"]

[sub_resource type="BoxShape3D" id="BoxShape3D_a184d"]
size = Vector3(0.3, 0.3, 0.3)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lw7nh"]

[sub_resource type="BoxShape3D" id="BoxShape3D_msovg"]
size = Vector3(2.014038, 1.602417, 2.0880127)

[node name="Enemy" type="CharacterBody3D" node_paths=PackedStringArray("punch_hand_r", "punch_hand_l", "punch_area") groups=["enemies"]]
collision_layer = 4
collision_mask = 15
script = ExtResource("1_ksmh7")
run_speed = 4.0
attack_cooldown = 1.6
punch_hand_r = NodePath("Monstr/root/Skeleton3D/hand_r/punch_hand_r")
punch_hand_l = NodePath("Monstr/root/Skeleton3D/hand_l/punch_hand_l")
punch_area = NodePath("PunchArea")

[node name="HealthBar3D" parent="." instance=ExtResource("2_twyc1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.175171, 0)

[node name="HitFlash" parent="." instance=ExtResource("4_msovg")]
mesh_path = NodePath("../Monstr/root/Skeleton3D/Monstr")
flash_color = Color(1, 1, 1, 1)

[node name="HealthComponent" parent="." instance=ExtResource("2_wqcwe")]
max_health = 4.0

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
avoidance_enabled = true
radius = 0.6
max_speed = 20.0

[node name="Monstr" parent="." instance=ExtResource("3_5lf1o")]

[node name="Skeleton3D" parent="Monstr/root" index="0"]
bones/1/position = Vector3(-8.606471e-09, 0.33737057, -0.04763806)
bones/1/rotation = Quaternion(-0.0008005388, -2.1087026e-06, 1.2604289e-08, 0.99999976)
bones/2/position = Vector3(0.008056676, 0.26289308, -0.023279143)
bones/2/rotation = Quaternion(0.11574047, -0.063969776, -0.051980536, 0.9898536)
bones/3/rotation = Quaternion(0.23842315, 3.1310985e-06, 4.678481e-06, 0.9711614)
bones/4/position = Vector3(-0.008401295, 0.07835039, 0.06533496)
bones/4/rotation = Quaternion(-0.2884828, -0.034722097, 0.006589071, 0.9568327)
bones/4/scale = Vector3(1, 0.99999994, 1.0000001)
bones/5/position = Vector3(-0.13019986, 0.47505885, -0.03292294)
bones/5/rotation = Quaternion(-0.5477613, 0.43441403, 0.56120455, 0.44304806)
bones/6/rotation = Quaternion(-0.48061797, 0.037700377, -0.27417225, 0.83211464)
bones/6/scale = Vector3(0.99999994, 0.99999905, 1.0000001)
bones/7/rotation = Quaternion(-9.245159e-08, -0.22348566, 8.649289e-08, 0.9747073)
bones/7/scale = Vector3(1.0000002, 1.0000007, 0.99999994)
bones/8/rotation = Quaternion(1.705162e-07, 7.1518684e-08, 0.075654425, 0.9971341)
bones/8/scale = Vector3(1, 1.0000006, 0.9999997)
bones/9/rotation = Quaternion(-4.902396e-08, -0.18394259, 1.6972797e-08, 0.982937)
bones/10/rotation = Quaternion(-0.07450393, -0.17417109, -0.11401516, 0.97525084)
bones/10/scale = Vector3(0.99999905, 0.99999934, 0.99999994)
bones/11/position = Vector3(0.1292477, 0.47575685, -0.02865081)
bones/11/rotation = Quaternion(0.45426086, 0.49119896, 0.6200654, -0.40974355)
bones/12/rotation = Quaternion(-0.51051, -0.2670245, -0.24073605, 0.78110415)
bones/12/scale = Vector3(0.9999999, 0.99999976, 0.9999998)
bones/13/rotation = Quaternion(-1.2949125e-08, 0.024942549, -4.0176083e-08, 0.9996889)
bones/13/scale = Vector3(0.99999976, 0.9999999, 0.99999994)
bones/14/rotation = Quaternion(-8.738039e-08, -7.50294e-08, -0.26024222, 0.9655434)
bones/14/scale = Vector3(1, 0.9999995, 1.0000001)
bones/15/rotation = Quaternion(1.7340906e-08, 0.1129968, 5.1152867e-08, 0.9935954)
bones/16/rotation = Quaternion(-0.20971057, 0.1036872, 0.11880883, 0.96496373)
bones/16/scale = Vector3(0.99999946, 1.0000002, 1.0000004)
bones/17/rotation = Quaternion(0.61955136, 0.57104194, 0.47289598, 0.25775322)
bones/17/scale = Vector3(0.9999997, 1.0000004, 0.9999996)
bones/18/rotation = Quaternion(-9.2465484e-08, 0.09227098, 1.1612643e-07, 0.995734)
bones/19/rotation = Quaternion(-2.069762e-08, -7.005844e-09, 0.6169447, 0.7870066)
bones/19/scale = Vector3(0.9999998, 0.9999996, 0.99999976)
bones/20/rotation = Quaternion(0.1333996, 0.69260895, -0.3202667, 0.63239753)
bones/20/scale = Vector3(1, 1.0000002, 1.0000002)
bones/21/rotation = Quaternion(-2.3596622e-05, 0.915258, 0.40286824, -1.0778878e-05)
bones/22/rotation = Quaternion(-3.2529538e-08, 0.0901611, 4.1796604e-08, 0.9959272)
bones/23/rotation = Quaternion(0.6177607, -0.42343804, -0.65998334, -0.059109494)
bones/23/scale = Vector3(1, 0.9999998, 0.9999996)
bones/24/rotation = Quaternion(-5.468269e-08, 0.07421762, -4.4846153e-08, 0.99724203)
bones/25/rotation = Quaternion(-8.0191626e-08, -6.656333e-08, -0.6944569, 0.71953434)
bones/25/scale = Vector3(1.0000005, 1, 0.9999996)
bones/26/rotation = Quaternion(0.21796781, -0.45852464, 0.7003661, 0.5017296)
bones/26/scale = Vector3(1.0000001, 1, 1.0000002)
bones/27/rotation = Quaternion(2.1730084e-05, 0.9152614, 0.4028608, 9.887007e-06)
bones/28/rotation = Quaternion(5.322377e-08, -0.119229846, -2.2311541e-08, 0.9928667)

[node name="hand_r" parent="Monstr/root/Skeleton3D" index="1"]
transform = Transform3D(0.25567585, -0.06260899, -0.9647331, 0.6451793, -0.73211986, 0.21850014, -0.71998, -0.6782908, -0.14679164, -0.6032655, 0.5613699, -0.45815846)

[node name="CollisionShape3D" parent="Monstr/root/Skeleton3D/hand_r/punch_hand_r" index="0"]
transform = Transform3D(2, 1.1920928e-07, -3.9736424e-08, -1.1920928e-07, 2, 4.4703487e-08, 3.9736427e-08, -4.4703484e-08, 2, 0.014108133, 0.12905324, -0.011775196)
shape = SubResource("BoxShape3D_a184d")

[node name="hand_l" parent="Monstr/root/Skeleton3D" index="2"]
transform = Transform3D(-0.42417097, -0.48978648, 0.7617008, 0.69152844, -0.71825856, -0.076758355, 0.5846928, 0.49417865, 0.64336634, 0.45079353, 0.43509334, 0.51381105)

[node name="AnimationPlayer" parent="Monstr" index="1"]
autoplay = "Monstr_idle"
playback_default_blend_time = 0.2
blend_times = [&"Monstr_idle", &"Monstr_angry", 0.2, &"Monstr_idle", &"Monstr_attack_1", 0.2, &"Monstr_idle", &"Monstr_attack_idle", 0.2, &"Monstr_idle", &"Monstr_idle", 0.2, &"Monstr_idle", &"Monstr_knockdown", 0.2, &"Monstr_idle", &"Monstr_walk", 0.2]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_lw7nh")

[node name="AttackTimer" type="Timer" parent="."]

[node name="PunchArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="PunchArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 1.1765747)
shape = SubResource("BoxShape3D_msovg")

[editable path="Monstr"]
